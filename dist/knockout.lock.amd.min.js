/*! (c) 2014 Cristian Trifan (MIT) */
define(["knockout"],function(e){"use strict";var t=function(t){var n=e.contextFor(t),i=e.bindingProvider.instance.getBindings(t,n);i&&i.disable&&i.disable.valueHasMutated()},n=function(e,i){var r,l;for(l=0;l<e.length;l++)r=e[l],r instanceof HTMLInputElement?"true"!==r.getAttribute("data-lock-exclude")&&(i?r.setAttribute("disabled","disabled"):(r.removeAttribute("disabled"),t(r))):"true"!==r.getAttribute("data-lock-exclude")&&n(r.children,i)},i={update:function(t,i,r){var l=e.utils.unwrapObservable(i()),a=r.get("lockSelector"),u=[];u=t instanceof HTMLInputElement?[t]:a?t.querySelectorAll(a):t.children,n(u,l)}};return e.bindingHandlers.lock=i,i});